<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>Player Stats</title>
  <link rel="stylesheet" href="style/statistics.css" type="text/css" />
</head>

<body>
  <h1>HSNCT 2009</h1>
  <h2>Player Stats</h2>
  <table id="stats_table" class="standings">
    <thead>
    	<tr>
        <th></th>
    		<th>Players</th>
    		<th class="number">GP</th>
    		<th class="number">TUH</th>
    		<th class="number">15</th>
    		<th class="number">10</th>
    		<th class="number">-5</th>
    		<th class="number">Pts</th>
    		<th class="number">PP20H</th>
    		<th class="number">TU/neg</th>
    		<th class="number">neg/20H</th>
    	</tr>
    </thead>
    <tbody>
    </tbody>
  </table>
  <script src="/_utils/script/json2.js"></script>
  <script src="/_utils/script/jquery.js?1.3.1"></script>
  <script src="/_utils/script/jquery.couch.js?0.8.0"></script>
  <script src="/_utils/script/jquery.cookies.js"></script>
  <script src="vendor/couchapp/jquery.couchapp.js"></script>
  <script src="jquery.tablesorter.js"></script>
  <script type="text/javascript" charset="utf-8">
  /* <![CDATA[ */
  $.CouchApp(function (app) {
    app.view('players', {
      group: true,
      success: function (response) {
        $.each(response.rows, function (index, row) {
          var tr = $('<tr>');
          tr.append($('<td>').addClass('ordinal'));
          tr.append($('<td>').addClass('name').text(row.key[1]).append($('<span>').text(' (' + row.key[0] + ')')));
          var index = 0;
          row.value.forEach(function (value) {
            if (index == 1 || index == 7 || index == 8 || index == 9) {
              value = value.toFixed(2);
            }
            if (index > 0 && index < 10) {
              tr.append($('<td>').addClass('number').text(value));
            }
            index++;
          });
          $('tbody').append(tr);
        });
        $('#stats_table').tablesorter({
          sortList: [[8, 1], [7, 1]]
        });
        $('.ordinal').each(function (index) {
          $(this).text((index + 1) + '.');
        });
      }
    });
  });
  /* ]]> */
  </script>
</body>
</html>
